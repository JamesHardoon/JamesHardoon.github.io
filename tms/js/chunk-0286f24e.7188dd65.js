(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0286f24e"],{"80b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[[a("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"模板类型",prop:"emailType"}},[a("a-select",{model:{value:e.form.emailType,callback:function(t){e.$set(e.form,"emailType",t)},expression:"form.emailType"}},e._l(e.isFrozenArr,(function(t,i){return a("a-select-option",{key:i,attrs:{value:t.dictKey}},[e._v("\n                    "+e._s(t.dictValue)+"\n                  ")])})),1)],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"模板内容",prop:"emailContent"}},[a("quill-editor",{model:{value:e.form.emailContent,callback:function(t){e.$set(e.form,"emailContent",t)},expression:"form.emailContent"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"发送邮箱",prop:"sendEmail"}},[a("a-input",{model:{value:e.form.sendEmail,callback:function(t){e.$set(e.form,"sendEmail",t)},expression:"form.sendEmail"}})],1)],1)],1),a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"邮箱密码",prop:"emailPassword"}},[a("a-input-password",{model:{value:e.form.emailPassword,callback:function(t){e.$set(e.form,"emailPassword",t)},expression:"form.emailPassword"}})],1)],1)],1)],1)]],2)},r=[],n=a("0fea"),o=a("85ee"),s=a.n(o),l=(a("ca00"),a("2dab")),m=a("caaf"),c=a.n(m),u=(a("10ef"),a("a061"));function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f={name:"BaseProjectModal",components:{JDate:l["default"],JEditor:u["default"]},data:function(){var e;return e={isFrozenArr:[{dictKey:1,dictValue:"对账函"},{dictKey:2,dictValue:"催缴函"},{dictKey:3,dictValue:"收费函"},{dictKey:9,dictValue:"其他"}],bankArr:[],moment:c.a,time:"",clickItem:{},sourceData:[],form:this.$form.createForm(this),labelCol:{span:6},wrapperCol:{span:14},other:""},d(e,"form",{emailType:"",emailContent:"",sendEmail:"",emailPassword:""}),d(e,"rules",{emailType:[{required:!0,message:"请选择模板类型",trigger:"change"}],emailContent:[{required:!0,message:"请输入模板内容",trigger:"blur"}],emailPassword:[{required:!0,message:"请输入密码",trigger:"blur"}],sendEmail:[d({required:!0,message:"请输入邮箱",trigger:"blur",pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/},"message","邮箱格式不正确")]}),d(e,"title","新建"),d(e,"width",980),d(e,"visible",!1),d(e,"selectedKeys",[]),d(e,"model",{}),d(e,"visibleModel",!1),d(e,"labelCol",{xs:{span:24},sm:{span:5}}),d(e,"wrapperCol",{xs:{span:24},sm:{span:16}}),d(e,"confirmLoading",!1),d(e,"validatorRules",{}),d(e,"treeData",[]),d(e,"url",{add:"/email/template/add",edit:"/email/template/edit"}),e},created:function(){},mounted:function(){this.dataList()},methods:{onChangeTime:function(e){this.form.synchronizationTime=this.formatDateTime(e._d)},formatDateTime:function(e){var t=new Date(e),a=(t.getFullYear(),t.getMonth()+1);a=a<10?"0"+a:a;var i=t.getDate();i=i<10?"0"+i:i;var r=t.getHours();r=r<10?"0"+r:r;var n=t.getMinutes(),o=t.getSeconds();return n=n<10?"0"+n:n,o=o<10?"0"+o:o,r+":"+n+":"+o},onSubmit:function(){this.$refs.ruleForm.validate((function(e){if(!e)return!1;alert("submit!")}))},resetForm:function(){this.$refs.ruleForm.resetFields()},add:function(){this.edit({})},edit:function(e){this.title=e.isEdit?"编辑":"新增",this.visible=!0;var t=JSON.parse(JSON.stringify(e));this.form=t},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(a){if(!a)return!1;t.confirmLoading=!0;var i="",r="";e.form.id?(i+=e.url.edit,r="put"):(i+=e.url.add,r="post"),Object(n["h"])(i,e.form,r).then((function(e){e.success?t.$emit("ok"):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}))},handleCancel:function(){this.close(),this.$refs.ruleForm.resetFields(),this.form.synchronizationTime=""},popupCallback:function(e){this.form.setFieldsValue(s()(e,"name","departId","hosptialId","businessPoints","synchronizationDay","synchronizationTime","responsiblePersonName","responsiblePersonPhone"))},dataList:function(){var e=this;Object(n["c"])("/base/bank/list",null).then((function(t){t.success&&(e.bankArr=t.result)})).finally((function(){}))}}},p=f,b=(a("9f7c"),a("cba8")),h=Object(b["a"])(p,i,r,!1,null,"27707180",null);t["default"]=h.exports},"9f7c":function(e,t,a){"use strict";a("be9b")},be9b:function(e,t,a){}}]);