(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-331fc471"],{3307:function(e,t,i){"use strict";i("b2ab")},b2ab:function(e,t,i){},debc:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("j-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",footer:null,cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[[i("div",{staticClass:"baseNoticeContent"},[i("p",[e._v("发送方："+e._s(e.form.sendEmail)),i("span",{staticClass:"email"},[e._v("《"+e._s(e.form.sendEmail)+"》")])]),i("p",[e._v("类型："+e._s(e.isEmailType))]),i("p",[e._v("时间："+e._s(e.form.createTime))]),i("p",[e._v("收件方："+e._s(e.form.receiveEmail)),i("span",{staticClass:"email"},[e._v("《"+e._s(e.form.receiveEmail)+"》")]),e._v("所属项目："+e._s(e.form.projectName))]),i("div",[e._v("模板内容： "),i("div",{domProps:{innerHTML:e._s(e.form.emailContent)}})])])]],2)},a=[],r=i("0fea"),s=i("85ee"),o=i.n(s),l=(i("ca00"),i("2dab")),c=i("caaf"),m=i.n(c),u=(i("10ef"),i("a061"));function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f={name:"BaseProjectModal",components:{JDate:l["default"],JEditor:u["default"]},data:function(){var e;return e={isFrozenArr:[{dictKey:"1",dictValue:"对账函"},{dictKey:"2",dictValue:"催缴函"},{dictKey:"3",dictValue:"收费函"},{dictKey:"9",dictValue:"其他"}],bankArr:[],moment:m.a,time:"",clickItem:{},sourceData:[],form:this.$form.createForm(this),labelCol:{span:1},wrapperCol:{span:3},other:""},d(e,"form",{emailType:"",emailContent:"",sendEmail:""}),d(e,"rules",{emailType:[{required:!0,message:"请选择模板类型",trigger:"change"}],emailContent:[{required:!0,message:"请输入模板内容",trigger:"blur"}],sendEmail:[{required:!0,message:"请输入邮箱",trigger:"blur"}]}),d(e,"title","邮件详情"),d(e,"width",980),d(e,"visible",!1),d(e,"selectedKeys",[]),d(e,"model",{}),d(e,"visibleModel",!1),d(e,"labelCol",{xs:{span:24},sm:{span:5}}),d(e,"wrapperCol",{xs:{span:24},sm:{span:16}}),d(e,"confirmLoading",!1),d(e,"validatorRules",{}),d(e,"treeData",[]),d(e,"url",{add:"/email/template/add",edit:"/email/template/edit"}),e},created:function(){},computed:{isEmailType:function(){var e=this,t=this.isFrozenArr.filter((function(t,i){return Number(t.dictKey)===Number(e.form.emailType)})),i="";return t.length&&(i=t[0].dictValue),i}},mounted:function(){this.dataList()},methods:{onChangeTime:function(e){this.form.synchronizationTime=this.formatDateTime(e._d)},formatDateTime:function(e){var t=new Date(e),i=(t.getFullYear(),t.getMonth()+1);i=i<10?"0"+i:i;var n=t.getDate();n=n<10?"0"+n:n;var a=t.getHours();a=a<10?"0"+a:a;var r=t.getMinutes(),s=t.getSeconds();return r=r<10?"0"+r:r,s=s<10?"0"+s:s,a+":"+r+":"+s},onSubmit:function(){this.$refs.ruleForm.validate((function(e){if(!e)return!1;alert("submit!")}))},resetForm:function(){this.$refs.ruleForm.resetFields()},add:function(){this.edit({})},edit:function(e){this.visible=!0,this.visible=!0;var t=JSON.parse(JSON.stringify(e));this.form=t},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(i){if(!i)return!1;t.confirmLoading=!0;var n="",a="";e.form.id?(n+=e.url.edit,a="put"):(n+=e.url.add,a="post"),Object(r["h"])(n,e.form,a).then((function(e){e.success?t.$emit("ok"):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1,t.close()}))}))},handleCancel:function(){this.close(),this.form.synchronizationTime=""},popupCallback:function(e){this.form.setFieldsValue(o()(e,"name","departId","hosptialId","businessPoints","synchronizationDay","synchronizationTime","responsiblePersonName","responsiblePersonPhone"))},dataList:function(){var e=this;Object(r["c"])("/base/bank/list",null).then((function(t){t.success&&(e.bankArr=t.result)})).finally((function(){}))}}},h=f,p=(i("3307"),i("cba8")),b=Object(p["a"])(h,n,a,!1,null,"f4166d56",null);t["default"]=b.exports}}]);