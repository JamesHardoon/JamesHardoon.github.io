(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b071e9a","chunk-2d0de953","chunk-058cb8ae","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-2d0de953","chunk-2d0de953","chunk-2d0de953","chunk-2d0de953","chunk-2d0de953"],{"04c2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-operator"},[e._v("\n    供应商:\n    "),a("a-input",{staticStyle:{width:"120px","margin-right":"10px"},attrs:{placeholder:"请输入供应商名称"},model:{value:e.queryParam.supplierName,callback:function(t){e.$set(e.queryParam,"supplierName","string"===typeof t?t.trim():t)},expression:"queryParam.supplierName"}}),e._v("\n    审批状态：\n    "),a("a-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",allowClear:""},on:{change:e.changeValue},model:{value:e.queryParam.approvalType,callback:function(t){e.$set(e.queryParam,"approvalType",t)},expression:"queryParam.approvalType"}},e._l(e.approvalList,(function(t){return a("a-select-option",{key:t.key,attrs:{value:t.key}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1),e._v("\n    开票类型：\n    "),a("a-select",{staticStyle:{width:"120px"},attrs:{placeholder:"请选择",allowClear:""},on:{change:e.invoiceTypeChange},model:{value:e.queryParam.invoiceType,callback:function(t){e.$set(e.queryParam,"invoiceType",t)},expression:"queryParam.invoiceType"}},e._l(e.invoiceTypeList,(function(t){return a("a-select-option",{key:t.key,attrs:{value:t.key}},[e._v("\n        "+e._s(t.name)+"\n      ")])})),1),e._v("\n    添加日期：\n    "),a("a-range-picker",{on:{change:e.onChangeTime}}),a("a-button",{staticClass:"btn-search",staticStyle:{"margin-left":"15px"},attrs:{type:"primary",icon:"plus"},on:{click:e.addInvoice}},[e._v("新增")]),a("a-button",{directives:[{name:"has",rawName:"v-has",value:"invoice:approval",expression:"'invoice:approval'"}],staticClass:"btn-search",attrs:{type:"primary",icon:"profile"},on:{click:e.approvalInvoice}},[e._v("审批")]),a("a-button",{staticClass:"btn-search",attrs:{type:"primary",icon:"delete"},on:{click:e.deleteInvoice}},[e._v("删除")]),a("a-button",{staticClass:"btn-search",attrs:{type:"primary",icon:"search"},on:{click:e.searchQuery}},[e._v("查询")])],1),a("div",[a("a-table",{ref:"table",staticClass:"j-table-force-nowrap",attrs:{size:"middle",bordered:"",rowKey:"id",customRow:e.onClickRowMulti,columns:e.columns,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange,getCheckboxProps:e.onGetCheckboxProps},dataSource:e.dataSource,pagination:e.ipagination,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"invoiceType",fn:function(t,n){return a("span",{},[1===n.invoiceType?a("a-tag",{attrs:{color:"lightblue"}},[e._v("\n          专票\n        ")]):e._e(),2===n.invoiceType?a("a-tag",{attrs:{color:"gray"}},[e._v("\n          普票\n        ")]):e._e()],1)}},{key:"approvalType",fn:function(t,n){return a("span",{},[0===n.approvalType?a("a-tag",{attrs:{color:"green"}},[e._v("\n          通过\n        ")]):e._e(),1===n.approvalType?a("a-tag",{attrs:{color:"red"}},[e._v("\n          不通过\n        ")]):e._e(),2===n.approvalType?a("a-tag",{attrs:{color:"blue"}},[e._v("\n          待审批\n        ")]):e._e()],1)}},{key:"action",fn:function(t,n){return a("span",{},[a("a",{staticStyle:{"margin-right":"10px"},on:{click:function(t){return t.stopPropagation(),e.getDetail(n)}}},[e._v("详情")]),2===n.approvalType?a("a",{on:{click:function(t){return t.stopPropagation(),e.edit(n)}}},[e._v("编辑")]):e._e()])}}])})],1),a("InvoiceApplyModal",{ref:"InvoiceApplyModal"}),a("InvoiceApplyAddModal",{ref:"InvoiceApplyAddModal",on:{"e-refresh":e.searchQuery}}),a("a-modal",{attrs:{title:"审批","ok-text":"确认","cancel-text":"取消"},on:{ok:e.hideModal},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":0},on:{change:e.radioChange},model:{value:e.modalQueryParam.approvalType,callback:function(t){e.$set(e.modalQueryParam,"approvalType",t)},expression:"modalQueryParam.approvalType"}},[a("a-radio",{attrs:{value:0}},[e._v("\n        通过\n      ")]),a("a-radio",{attrs:{value:1}},[e._v("\n        不通过\n      ")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.noaPassFlag,expression:"noaPassFlag"}]},[a("p",{staticStyle:{"font-size":"16px",margin:"10px 0"}},[e._v("不通过原因 ")]),a("a-input",{staticStyle:{width:"800px",height:"90px"},attrs:{maxLength:200,placeholder:"此处为不通过原因说明， 限制200字以内",type:"textarea"},model:{value:e.modalQueryParam.reason,callback:function(t){e.$set(e.modalQueryParam,"reason",t)},expression:"modalQueryParam.reason"}})],1)],1)],1)},i=[],r=a("7c98"),o=a.n(r),l=a("0fea"),c=(a("6eb7"),a("ac0d")),s=a("b65a"),d=a("a6f0"),u=a("e37a"),p=a("e26c");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=[{title:"序号",dataIndex:"",key:"rowIndex",width:40,align:"center",customRender:function(e,t,a){return parseInt(a)+1}},{title:"申请流水号",align:"center",width:150,dataIndex:"serialNum"},{title:"开票名称",align:"center",width:150,dataIndex:"billingName"},{title:"开户银行",align:"center",width:150,dataIndex:"bank"},{title:"开户账号",align:"center",width:150,dataIndex:"bankAccount"},{title:"开票方税务登记号",align:"center",width:200,dataIndex:"billTaxation"},{title:"供应商",align:"center",width:250,dataIndex:"supplierName"},{title:"开票金额",align:"center",width:120,dataIndex:"invoicedMoney"},{title:"开票类型",align:"center",dataIndex:"invoiceType",scopedSlots:{customRender:"invoiceType"}},{title:"审批状态",align:"center",dataIndex:"approvalType",scopedSlots:{customRender:"approvalType"}},{title:"添加人",align:"center",dataIndex:"addUserName"},{title:"添加日期",align:"center",dataIndex:"addTime"},{title:"审批人",align:"center",dataIndex:"approvalUserName"},{title:"审批日期",align:"center",dataIndex:"approvalTime"},{title:"操作",dataIndex:"action",align:"center",width:160,scopedSlots:{customRender:"action"}}],h={name:"InvoiceApplyList",mixins:[s["a"],c["b"]],components:{addSelectTime:d["default"],InvoiceApplyModal:u["default"],InvoiceApplyAddModal:p["default"]},data:function(){return{approvalList:[{key:"",name:"全部"},{key:0,name:"通过"},{key:1,name:"不通过"},{key:2,name:"待审批"}],invoiceTypeList:[{key:"",name:"全部"},{key:"1",name:"专票"},{key:"2",name:"普票"}],modalQueryParam:{},visible:!1,noaPassFlag:!1,supplierName:"",projectName:"",columns:v,url:{list:"/invoice/applyInvoice/list",detail:"/invoice/applyInvoice/queryById",approval:"/invoice/applyInvoice/approval",delete:"/invoice/applyInvoice/delete",deleteBatch:"/invoice/applyInvoice/deleteBatch",edit:"/invoice/applyInvoice/edit",add:"/invoice/applyInvoice/add",exportXlsUrl:"/invoice/invoiceRegister/exportXls",importExcelUrl:"contract/contractSignRegister/importExcel"}}},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},created:function(){},methods:{radioChange:function(e){var t=e.target.value;this.modalQueryParam.approvalType=t,0===t&&(this.noaPassFlag=!1,this.modalQueryParam.reason=""),1===t&&(this.noaPassFlag=!0)},hideModal:function(){var e=this,t=[];if(this.selectedRowKeys&&this.selectedRowKeys.length>0&&this.dataSource.length)if(this.dataSource.forEach((function(a,n){e.selectedRowKeys.includes(a.id)&&t.push(a)})),1!==this.modalQueryParam.approvalType||""!==o.a.get(this.modalQueryParam,"reason","")){var a=m(m({},this.modalQueryParam),{},{approvalType:o.a.get(this.modalQueryParam,"approvalType","")?this.modalQueryParam.approvalType:0,applyInvoices:t});Object(l["i"])(this.url.approval,a).then((function(t){t.success?(e.visible=!1,e.selectedRowKeys=[],e.modalQueryParam.reason="",e.searchQuery()):e.$message.warning(t.message)})).finally((function(){}))}else this.$message.warning("请填写不通过原因!");else this.$message.warning("请选择要审批的数据")},addInvoice:function(){this.$refs.InvoiceApplyAddModal.visible=!0,this.$refs.InvoiceApplyAddModal.isFromEdit=!1,this.$refs.InvoiceApplyAddModal.queryParam={},this.$refs.InvoiceApplyAddModal.dataSource=[]},approvalInvoice:function(){0!==this.selectedRowKeys.length?this.visible=!0:this.$message.warning("请勾选需要审批的数据!")},deleteInvoice:function(){if(0!==this.selectedRowKeys.length){var e=this;this.$confirm({title:"提示",content:"确认是否删除?",onOk:function(){var t={ids:e.selectedRowKeys.toString()};Object(l["a"])(e.url.deleteBatch,t).then((function(t){t.success?(e.selectedRowKeys=[],e.searchQuery()):e.$message.warning(t.message)})).finally((function(){}))},onCancel:function(){}})}else this.$message.warning("请勾选需要删除的数据!")},edit:function(e){this.$refs.InvoiceApplyAddModal.visible=!0,this.$refs.InvoiceApplyAddModal.isFromEdit=!0,this.$refs.InvoiceApplyAddModal.editInvoice(e)},getDetail:function(e){this.$refs.InvoiceApplyModal.visible=!0,this.$refs.InvoiceApplyModal.edit(e),this.$refs.InvoiceApplyModal.queryParam=e},onGetCheckboxProps:function(e){return{props:{disabled:1===e.isNullify}}},onClickRowMulti:function(e){var t=this;return{on:{click:function(){var a=t.selectedRowKeys;if(1===e.isNullify)return!1;a.length>0&&a.includes(e.id)?a.splice(a.indexOf(e.id),1):a.push(e.id),t.selectedRowKeys=a}}}},onChangeTime:function(e,t){this.queryParam.startTime=t[0],this.queryParam.endTime=t[1]},changeValue:function(e){this.queryParam.approvalType=e},invoiceTypeChange:function(e){this.queryParam.invoiceType=e}}},g=h,b=(a("f48f"),a("cba8")),w=Object(b["a"])(g,n,i,!1,null,"48c07876",null);t["default"]=w.exports},"2dab":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-date-picker",{attrs:{disabled:e.disabled||e.readOnly,placeholder:e.placeholder,value:e.momVal,showTime:e.showTime,format:e.dateFormat,getCalendarContainer:e.getCalendarContainer},on:{change:e.handleDateChange}})},i=[],r=a("caaf"),o=a.n(r),l={name:"JDate",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},dateFormat:{type:String,default:"YYYY-MM-DD",required:!1},triggerChange:{type:Boolean,required:!1,default:!1},readOnly:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},showTime:{type:Boolean,required:!1,default:!1},getCalendarContainer:{type:Function,default:function(e){return e.parentNode}}},data:function(){var e=this.value;return{decorator:"",momVal:e?o()(e,this.dateFormat):null}},watch:{value:function(e){this.momVal=e?o()(e,this.dateFormat):null}},methods:{moment:o.a,handleDateChange:function(e,t){this.$emit("change",t)}},model:{prop:"value",event:"change"}},c=l,s=a("cba8"),d=Object(s["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},"3d2e":function(e,t,a){},"85ee":function(e,t,a){(function(t){var a=1/0,n=9007199254740991,i="[object Arguments]",r="[object Function]",o="[object GeneratorFunction]",l="[object Symbol]",c="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,d=c||s||Function("return this")();function u(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function p(e,t){var a=-1,n=e?e.length:0,i=Array(n);while(++a<n)i[a]=t(e[a],a,e);return i}function f(e,t){var a=-1,n=t.length,i=e.length;while(++a<n)e[i+a]=t[a];return e}var m=Object.prototype,y=m.hasOwnProperty,v=m.toString,h=d.Symbol,g=m.propertyIsEnumerable,b=h?h.isConcatSpreadable:void 0,w=Math.max;function x(e,t,a,n,i){var r=-1,o=e.length;a||(a=O),i||(i=[]);while(++r<o){var l=e[r];t>0&&a(l)?t>1?x(l,t-1,a,n,i):f(i,l):n||(i[i.length]=l)}return i}function k(e,t){return e=Object(e),I(e,t,(function(t,a){return a in e}))}function I(e,t,a){var n=-1,i=t.length,r={};while(++n<i){var o=t[n],l=e[o];a(l,o)&&(r[o]=l)}return r}function P(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var a=arguments,n=-1,i=w(a.length-t,0),r=Array(i);while(++n<i)r[n]=a[t+n];n=-1;var o=Array(t+1);while(++n<t)o[n]=a[n];return o[t]=r,u(e,this,o)}}function O(e){return C(e)||S(e)||!!(b&&e&&e[b])}function T(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function S(e){return _(e)&&y.call(e,"callee")&&(!g.call(e,"callee")||v.call(e)==i)}var C=Array.isArray;function j(e){return null!=e&&M(e.length)&&!A(e)}function _(e){return R(e)&&j(e)}function A(e){var t=q(e)?v.call(e):"";return t==r||t==o}function M(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function R(e){return!!e&&"object"==typeof e}function $(e){return"symbol"==typeof e||R(e)&&v.call(e)==l}var N=P((function(e,t){return null==e?{}:k(e,p(x(t,1),T))}));e.exports=N}).call(this,a("2409"))},9274:function(e,t,a){},acfd:function(e,t,a){"use strict";a("9274")},b141:function(e,t,a){},e26c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{staticClass:"addGHt",attrs:{title:"添加",width:"70%",visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",okText:"提交",cancelText:"取消"},on:{ok:e.handleOk,cancel:e.handleCancel}},[[a("a-form-model",{ref:"ruleForm",staticStyle:{margin:"0 20px"},attrs:{labelAlign:"left",model:e.form,layout:"horizontal","label-col":e.labelCol,"wrapper-col":e.wrapperCol,rules:e.rules}},[a("a-form-model-item",{ref:"billingType",attrs:{label:"开票类型",prop:"billingType"}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":1},on:{change:function(t){return e.radioChange(t,"billingType")}}},[a("a-radio",{attrs:{value:1}},[e._v("\n            供应商\n          ")]),a("a-radio",{attrs:{value:2}},[e._v("\n            医院\n          ")]),a("a-radio",{attrs:{value:3}},[e._v("\n            第三方\n            "),a("span",[a("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入"},model:{value:e.form.billingName,callback:function(t){e.$set(e.form,"billingName",t)},expression:"form.billingName"}})],1)])],1)],1),a("a-form-model-item",{ref:"",staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务费账单",prop:""}},[a("a-button",{staticStyle:{"font-size":"18px","font-weight":"bold"},attrs:{type:"link",disabled:e.isFromEdit},on:{click:e.openServicefreeModal}},[e._v("添加"),a("a-icon",{attrs:{type:"plus"}})],1)],1),a("a-card",{attrs:{bordered:!1}},[a("a-table",{ref:"table",attrs:{size:"middle",scroll:{y:500},bordered:"",rowKey:"id",columns:e.columns,pagination:!1,dataSource:e.dataSource,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"invoicedMoney",fn:function(t,n){return[a("a-input-number",{attrs:{placeholder:"请输入"},model:{value:n.invoicedMoney,callback:function(t){e.$set(n,"invoicedMoney",t)},expression:"record.invoicedMoney"}})]}},{key:"action",fn:function(t,n,i){return[a("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),e.deleteOrder(t,n,i)}}},[e._v("删除")])]}}])})],1),a("a-form-model-item",{ref:"invoiceType",attrs:{label:"发票类型",prop:"invoiceType"}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":1},on:{change:function(t){return e.radioChange(t,"invoiceType")}}},[a("a-radio",{attrs:{value:1}},[e._v("\n            专票\n          ")]),a("a-radio",{attrs:{value:2}},[e._v("\n            普票\n          ")])],1)],1)],1)],a("AddServicefreeModal",{ref:"AddServicefreeModal",on:{confirmAddItem:e.eConfirmAddItem}})],2)},i=[],r=a("0fea"),o=(a("85ee"),a("ca00")),l=a("2dab"),c=(a("6eb7"),a("ac0d")),s=a("b65a"),d=a("eb88");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m={name:"InvoiceApplyAddModal",mixins:[s["a"],c["b"]],components:{JDate:l["default"],AddServicefreeModal:d["default"]},data:function(){return{form:{billingType:"1",invoiceType:"1"},rules:{billingType:[{required:!0,message:"请选择开票类型！",trigger:"select"}],invoiceType:[{required:!0,message:"请选择发票类型！",trigger:"select"}]},width:800,visible:!1,labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,contractNo:"",supplierName:"",isFromEdit:!1,columns:[{title:"服务费账单",align:"center",width:150,dataIndex:"billNo"},{title:"所属项目",align:"center",width:160,dataIndex:"projectName"},{title:"供应商",align:"center",width:220,dataIndex:"supplierName"},{title:"账单金额(元)",align:"center",width:120,dataIndex:"actualReceivablesMoney"},{title:"开票金额(元)",align:"center",width:120,dataIndex:"invoicedMoney",scopedSlots:{customRender:"invoicedMoney"}},{title:"未开票金额(元)",align:"center",width:120,dataIndex:"uninvoicedMoney"},{title:"操作",align:"center",width:100,dataIndex:"action",scopedSlots:{customRender:"action"}}],url:{add:"/invoice/applyInvoice/add",edit:"/invoice/applyInvoice/edit"}}},watch:{visible:function(e){e&&this.searchQuery()}},created:function(){},methods:{loadData:function(){},editInvoice:function(e){var t=this;this.isFromEdit&&(this.url.list="/invoice/applyInvoice/queryById?id=".concat(e.id),this.visible=!0,this.loading=!0,Object(r["c"])(this.url.list,{}).then((function(e){e.success&&(t.dataSource=e.result.serviceBillRecords,t.queryParam=e.result),510===e.code&&t.$message.warning(e.message),t.loading=!1})))},radioChange:function(e,t){var a=e.target.value;this.form[t]=a,"billingType"===t&&3!==a&&(this.form.billingName="")},eConfirmAddItem:function(e){this.dataSource=e},deleteOrder:function(e,t,a){this.dataSource.splice(a,1)},openServicefreeModal:function(){this.$refs.AddServicefreeModal.visible=!0},close:function(){this.visible=!1},handleOk:Object(o["a"])((function(){var e=this,t=this;t.$refs.ruleForm.validate((function(a){if(!a)return!1;var n={};e.isFromEdit?(n=p(p({},t.queryParam),{},{serviceBillRecords:t.dataSource}),Object(r["k"])(t.url.edit,n).then((function(a){a.success&&200===a.code?(t.visible=!1,t.selectedRowKeys=[],t.$emit("e-refresh")):e.$message.error(a.message)})).finally((function(){}))):(n=p(p({},t.form),{},{serviceBills:t.dataSource}),Object(r["i"])(t.url.add,n).then((function(a){a.success?(t.visible=!1,t.selectedRowKeys=[],t.$emit("e-refresh")):e.$message.warning(a.message)})).finally((function(){})))}))})),handleCancel:function(){this.close()}}},y=m,v=(a("fba3"),a("cba8")),h=Object(v["a"])(y,n,i,!1,null,"6e4ce1be",null);t["default"]=h.exports},e37a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{staticClass:"addGHt",attrs:{title:"详情",width:"70%",visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",okText:"确认",cancelText:"取消",footer:null},on:{ok:e.handleOk,cancel:e.handleCancel}},[[a("div",{staticStyle:{padding:"20px"}},[0===e.queryParam.approvalType?a("a-alert",{attrs:{message:"审批通过",description:" ",type:"success"}}):e._e(),1===e.queryParam.approvalType?a("a-alert",{attrs:{message:"审批不通过",description:"原因："+e.queryParam.reason,type:"error"}}):e._e(),2===e.queryParam.approvalType?a("a-alert",{attrs:{message:"待审批",description:" ",type:"info"}}):e._e()],1),a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-operator"},[e._v("\n        开票名称:\n        "),a("a-input",{staticStyle:{width:"200px"},attrs:{disabled:""},model:{value:e.queryParam.billingName,callback:function(t){e.$set(e.queryParam,"billingName",t)},expression:"queryParam.billingName"}}),e._v("\n        供应商:\n        "),a("a-input",{staticStyle:{width:"220px","padding-left":"20px"},attrs:{disabled:""},model:{value:e.queryParam.supplierName,callback:function(t){e.$set(e.queryParam,"supplierName",t)},expression:"queryParam.supplierName"}})],1),a("div",[a("a-table",{ref:"table",staticClass:"j-table-force-nowrap",attrs:{size:"middle",bordered:"",rowKey:"id",columns:e.columns,pagination:!1,dataSource:e.dataSource,loading:e.loading},on:{change:e.handleTableChange}})],1)])]],2)},i=[],r=a("0fea"),o=(a("85ee"),a("ca00"),a("2dab")),l=(a("6eb7"),a("ac0d")),c=a("b65a"),s={name:"InvoiceApplyModal",mixins:[c["a"],l["b"]],components:{JDate:o["default"]},data:function(){return{selectedRowKeys:[],width:800,visible:!1,labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,contractNo:"",supplierName:"",effective_times:"",contractState:1,columns:[{title:"序号",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(e,t,a){return parseInt(a)+1}},{title:"服务费账单",align:"center",dataIndex:"billNo"},{title:"所属项目",align:"center",dataIndex:"projectName"},{title:"账单金额（元）",align:"center",dataIndex:"actualReceivablesMoney"},{title:"开票金额(元)",align:"center",dataIndex:"invoicedMoney"},{title:"未开票金额(元)",align:"center",dataIndex:"uninvoicedMoney"}],url:{list:"/invoice/applyInvoice/queryById"},dictOptions:{}}},watch:{},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},created:function(){},methods:{edit:function(e){this.url.list="/invoice/applyInvoice/queryById?id=".concat(e.id),this.visible=!0,this.loadData()},loadData:function(){var e=this;this.loading=!0,Object(r["c"])(this.url.list,{}).then((function(t){t.success&&(e.dataSource=t.result.serviceBillRecords,e.queryParam=t.result),510===t.code&&e.$message.warning(t.message),e.loading=!1}))},onClickRow:function(e){var t=this;return{on:{click:function(){var a=[];a.push(e.id),t.selectedRowKeys=a}}}},onClickRowMulti:function(e){var t=this;return{on:{click:function(){var a=t.selectedRowKeys;a.length>0&&a.includes(e.id)?a.splice(a.indexOf(e.id),1):a.push(e.id),t.selectedRowKeys=a}}}},onSelectChange:function(e){this.selectedRowKeys=e},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.selectedRowKeys.length?this.visibleModel=!0:this.$message.error("请勾选")},handleCancel:function(){this.close()}}},d=s,u=(a("acfd"),a("cba8")),p=Object(u["a"])(d,n,i,!1,null,"164f901b",null);t["default"]=p.exports},f48f:function(e,t,a){"use strict";a("b141")},fba3:function(e,t,a){"use strict";a("3d2e")}}]);