(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-058cb8ae","chunk-2d0de953","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-418fc05a","chunk-2d0de953","chunk-2d0de953","chunk-2d0de953","chunk-2d0de953","chunk-2d0de953"],{"2dab":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-date-picker",{attrs:{disabled:e.disabled||e.readOnly,placeholder:e.placeholder,value:e.momVal,showTime:e.showTime,format:e.dateFormat,getCalendarContainer:e.getCalendarContainer},on:{change:e.handleDateChange}})},a=[],i=n("caaf"),o=n.n(i),l={name:"JDate",props:{placeholder:{type:String,default:"",required:!1},value:{type:String,required:!1},dateFormat:{type:String,default:"YYYY-MM-DD",required:!1},triggerChange:{type:Boolean,required:!1,default:!1},readOnly:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},showTime:{type:Boolean,required:!1,default:!1},getCalendarContainer:{type:Function,default:function(e){return e.parentNode}}},data:function(){var e=this.value;return{decorator:"",momVal:e?o()(e,this.dateFormat):null}},watch:{value:function(e){this.momVal=e?o()(e,this.dateFormat):null}},methods:{moment:o.a,handleDateChange:function(e,t){this.$emit("change",t)}},model:{prop:"value",event:"change"}},c=l,u=n("cba8"),d=Object(u["a"])(c,r,a,!1,null,null,null);t["default"]=d.exports},"3d2e":function(e,t,n){},"85ee":function(e,t,n){(function(t){var n=1/0,r=9007199254740991,a="[object Arguments]",i="[object Function]",o="[object GeneratorFunction]",l="[object Symbol]",c="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")();function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){var n=-1,r=e?e.length:0,a=Array(r);while(++n<r)a[n]=t(e[n],n,e);return a}function p(e,t){var n=-1,r=t.length,a=e.length;while(++n<r)e[a+n]=t[n];return e}var h=Object.prototype,m=h.hasOwnProperty,b=h.toString,v=d.Symbol,g=h.propertyIsEnumerable,y=v?v.isConcatSpreadable:void 0,w=Math.max;function O(e,t,n,r,a){var i=-1,o=e.length;n||(n=C),a||(a=[]);while(++i<o){var l=e[i];t>0&&n(l)?t>1?O(l,t-1,n,r,a):p(a,l):r||(a[a.length]=l)}return a}function k(e,t){return e=Object(e),j(e,t,(function(t,n){return n in e}))}function j(e,t,n){var r=-1,a=t.length,i={};while(++r<a){var o=t[r],l=e[o];n(l,o)&&(i[o]=l)}return i}function S(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var n=arguments,r=-1,a=w(n.length-t,0),i=Array(a);while(++r<a)i[r]=n[t+r];r=-1;var o=Array(t+1);while(++r<t)o[r]=n[r];return o[t]=i,s(e,this,o)}}function C(e){return I(e)||M(e)||!!(y&&e&&e[y])}function x(e){if("string"==typeof e||_(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function M(e){return A(e)&&m.call(e,"callee")&&(!g.call(e,"callee")||b.call(e)==a)}var I=Array.isArray;function T(e){return null!=e&&P(e.length)&&!F(e)}function A(e){return $(e)&&T(e)}function F(e){var t=q(e)?b.call(e):"";return t==i||t==o}function P(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function $(e){return!!e&&"object"==typeof e}function _(e){return"symbol"==typeof e||$(e)&&b.call(e)==l}var D=S((function(e,t){return null==e?{}:k(e,f(O(t,1),x))}));e.exports=D}).call(this,n("2409"))},e26c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("j-modal",{staticClass:"addGHt",attrs:{title:"添加",width:"70%",visible:e.visible,confirmLoading:e.confirmLoading,switchFullscreen:"",okText:"提交",cancelText:"取消"},on:{ok:e.handleOk,cancel:e.handleCancel}},[[n("a-form-model",{ref:"ruleForm",staticStyle:{margin:"0 20px"},attrs:{labelAlign:"left",model:e.form,layout:"horizontal","label-col":e.labelCol,"wrapper-col":e.wrapperCol,rules:e.rules}},[n("a-form-model-item",{ref:"billingType",attrs:{label:"开票类型",prop:"billingType"}},[n("a-radio-group",{attrs:{name:"radioGroup","default-value":1},on:{change:function(t){return e.radioChange(t,"billingType")}}},[n("a-radio",{attrs:{value:1}},[e._v("\n            供应商\n          ")]),n("a-radio",{attrs:{value:2}},[e._v("\n            医院\n          ")]),n("a-radio",{attrs:{value:3}},[e._v("\n            第三方\n            "),n("span",[n("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入"},model:{value:e.form.billingName,callback:function(t){e.$set(e.form,"billingName",t)},expression:"form.billingName"}})],1)])],1)],1),n("a-form-model-item",{ref:"",staticStyle:{"margin-bottom":"0px"},attrs:{label:"服务费账单",prop:""}},[n("a-button",{staticStyle:{"font-size":"18px","font-weight":"bold"},attrs:{type:"link",disabled:e.isFromEdit},on:{click:e.openServicefreeModal}},[e._v("添加"),n("a-icon",{attrs:{type:"plus"}})],1)],1),n("a-card",{attrs:{bordered:!1}},[n("a-table",{ref:"table",attrs:{size:"middle",scroll:{y:500},bordered:"",rowKey:"id",columns:e.columns,pagination:!1,dataSource:e.dataSource,loading:e.loading},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"invoicedMoney",fn:function(t,r){return[n("a-input-number",{attrs:{placeholder:"请输入"},model:{value:r.invoicedMoney,callback:function(t){e.$set(r,"invoicedMoney",t)},expression:"record.invoicedMoney"}})]}},{key:"action",fn:function(t,r,a){return[n("span",{staticStyle:{color:"#1890ff",cursor:"pointer"},on:{click:function(n){return n.stopPropagation(),e.deleteOrder(t,r,a)}}},[e._v("删除")])]}}])})],1),n("a-form-model-item",{ref:"invoiceType",attrs:{label:"发票类型",prop:"invoiceType"}},[n("a-radio-group",{attrs:{name:"radioGroup","default-value":1},on:{change:function(t){return e.radioChange(t,"invoiceType")}}},[n("a-radio",{attrs:{value:1}},[e._v("\n            专票\n          ")]),n("a-radio",{attrs:{value:2}},[e._v("\n            普票\n          ")])],1)],1)],1)],n("AddServicefreeModal",{ref:"AddServicefreeModal",on:{confirmAddItem:e.eConfirmAddItem}})],2)},a=[],i=n("0fea"),o=(n("85ee"),n("ca00")),l=n("2dab"),c=(n("6eb7"),n("ac0d")),u=n("b65a"),d=n("eb88");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={name:"InvoiceApplyAddModal",mixins:[u["a"],c["b"]],components:{JDate:l["default"],AddServicefreeModal:d["default"]},data:function(){return{form:{billingType:"1",invoiceType:"1"},rules:{billingType:[{required:!0,message:"请选择开票类型！",trigger:"select"}],invoiceType:[{required:!0,message:"请选择发票类型！",trigger:"select"}]},width:800,visible:!1,labelCol:{xs:{span:24},sm:{span:2}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,contractNo:"",supplierName:"",isFromEdit:!1,columns:[{title:"服务费账单",align:"center",width:150,dataIndex:"billNo"},{title:"所属项目",align:"center",width:160,dataIndex:"projectName"},{title:"供应商",align:"center",width:220,dataIndex:"supplierName"},{title:"账单金额(元)",align:"center",width:120,dataIndex:"actualReceivablesMoney"},{title:"开票金额(元)",align:"center",width:120,dataIndex:"invoicedMoney",scopedSlots:{customRender:"invoicedMoney"}},{title:"未开票金额(元)",align:"center",width:120,dataIndex:"uninvoicedMoney"},{title:"操作",align:"center",width:100,dataIndex:"action",scopedSlots:{customRender:"action"}}],url:{add:"/invoice/applyInvoice/add",edit:"/invoice/applyInvoice/edit"}}},watch:{visible:function(e){e&&this.searchQuery()}},created:function(){},methods:{loadData:function(){},editInvoice:function(e){var t=this;this.isFromEdit&&(this.url.list="/invoice/applyInvoice/queryById?id=".concat(e.id),this.visible=!0,this.loading=!0,Object(i["c"])(this.url.list,{}).then((function(e){e.success&&(t.dataSource=e.result.serviceBillRecords,t.queryParam=e.result),510===e.code&&t.$message.warning(e.message),t.loading=!1})))},radioChange:function(e,t){var n=e.target.value;this.form[t]=n,"billingType"===t&&3!==n&&(this.form.billingName="")},eConfirmAddItem:function(e){this.dataSource=e},deleteOrder:function(e,t,n){this.dataSource.splice(n,1)},openServicefreeModal:function(){this.$refs.AddServicefreeModal.visible=!0},close:function(){this.visible=!1},handleOk:Object(o["a"])((function(){var e=this,t=this;t.$refs.ruleForm.validate((function(n){if(!n)return!1;var r={};e.isFromEdit?(r=f(f({},t.queryParam),{},{serviceBillRecords:t.dataSource}),Object(i["k"])(t.url.edit,r).then((function(n){n.success&&200===n.code?(t.visible=!1,t.selectedRowKeys=[],t.$emit("e-refresh")):e.$message.error(n.message)})).finally((function(){}))):(r=f(f({},t.form),{},{serviceBills:t.dataSource}),Object(i["i"])(t.url.add,r).then((function(n){n.success?(t.visible=!1,t.selectedRowKeys=[],t.$emit("e-refresh")):e.$message.warning(n.message)})).finally((function(){})))}))})),handleCancel:function(){this.close()}}},m=h,b=(n("fba3"),n("cba8")),v=Object(b["a"])(m,r,a,!1,null,"6e4ce1be",null);t["default"]=v.exports},fba3:function(e,t,n){"use strict";n("3d2e")}}]);